<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Texto con Resaltado</title>
</head>
<body>
    <p id="textoDestacado"></p>
    <script>
        // Defino la longitud deseada para el texto generado.
        let longitudTexto = 5000;
        // Defino los caracteres permitidos para el texto.
        let caracteresPermitidos = "abcde12345_6789 ";
        // Inicializo una cadena vacía para el texto generado.
        let textoGenerado = "";

        // Genero el texto aleatorio.
        for (let i = 0; i < longitudTexto; i++) {
            // Elijo un carácter aleatorio de los permitidos y lo agrego al texto.
            textoGenerado += caracteresPermitidos.charAt(Math.floor(Math.random() * caracteresPermitidos.length));
        }

        // Inicializo un objeto para almacenar las posiciones de las palabras destacadas.
        let posicionesPalabras = {
            ana: [],
            roi: [],
            eva: []
        };

        // Comienzo un bucle que busca y destaca palabras mientras estén presentes en el texto.
        while (textoGenerado.match(/ana/i) || textoGenerado.match(/roi/i) || textoGenerado.match(/eva/i)) {
            // Si la palabra "ana" está presente, la resalto y almaceno su posición.
            if (textoGenerado.match(/ana/i)) {
                posicionesPalabras.ana.push(textoGenerado.search("ana"));
                textoGenerado = textoGenerado.replace("ana", "<span style='color: red; font-weight: bold;'>A-N-A</span>");
            }
            // Lo mismo se hace para "roi" (resaltado en azul) y "eva" (resaltado en rosa).
            if (textoGenerado.match(/roi/i)) {
                posicionesPalabras.roi.push(textoGenerado.search("roi"));
                textoGenerado = textoGenerado.replace("roi", "<span style='color: blue; font-weight: bold;'>R-O-I</span>");
            }
            if (textoGenerado.match(/eva/i)) {
                posicionesPalabras.eva.push(textoGenerado.search("eva"));
                textoGenerado = textoGenerado.replace("eva", "<span style='color: #FF00FF; font-weight: bold;'>E-V-A</span>");
            }
        }

        // Muestro el texto con las palabras destacadas en el párrafo con ID "textoDestacado".
        document.getElementById("textoDestacado").innerHTML = textoGenerado;

        // Muestro las posiciones de las palabras en el texto.
        document.write("<br/>Posiciones 'ana':");
        document.write("<br/>-> " + posicionesPalabras.ana);

        document.write("<br/>Posiciones 'roi':");
        document.write("<br/>-> " + posicionesPalabras.roi);

        document.write("<br/>Posiciones 'eva':");
        document.write("<br/>-> " + posicionesPalabras.eva);
    </script>
</body>
</html>
